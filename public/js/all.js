function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var Confirmation=function(){var t=$("#confirmation-box"),e=$("#confirmation-text"),o=$("#yes-answer");return{confirmToDelete:function(s,r){o.data("form-id","#"+s.attr("id")),o.data("callback-function",(function(t,e){switch(e.status){case 422:Utility.displayErrorMessageBox(Object.values(e.responseJSON.errors).join("<br>"));break;case 200:if(e.hasOwnProperty("responseJSON")){var o=e.responseJSON;!0===o.success?(Utility.displaySuccessMessageBox(o.message),r.submit()):Utility.displayErrorMessageBox(o.message)}else Utility.displayJsonResponseError(e,t.attr("action"));break;default:Utility.displayUnknownError(e,t.attr("action"))}})),e.html(s.data("deletion-confirmation-message")+s.data("info")+"?"),t.modal()},initialize:function(){o.click((function(e){e.preventDefault(),t.modal("toggle"),Utility.submitForm($(o.data("form-id")),o.data("callback-function"))}))}}}(jQuery),Form=function(){var t=$(".submission-form"),e=$(".recaptcha-form"),o=$(".form-submit");return{initialize:function(){$("#join-form").click((function(t){window.console.log("test")})),t.submit((function(t){t.preventDefault(),Utility.submitForm($(this))})),e.submit((function(t){var e=this;t.preventDefault(),_submitEvent=function(){Utility.submitForm($(e))}})),o.on("click",(function(t){t.preventDefault(),$(this).closest("form").submit()})),Search.SearchForm.submit((function(t){t.preventDefault(),window.console.log("submit"),Search.submitForm($(this))})),Search.ResultDiv.on("submit",".deletion",(function(t){t.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)})),$(".deletion").submit((function(t){t.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)}))}}}(jQuery),Search=function(){var t=$("#search-result"),e=($("#give-result-box"),$("#receive-result-box"),$("#search-form"));$("#search-form-detail");function o(e){t.removeClass("alert"),Utility.submitForm(e,(function(e,o){switch(Utility.clearErrors(),o.status){case 422:Utility.displayInvalidInputs(o.responseJSON),t.html("");break;case 200:$("#content-list-box").empty(),$("#content-list-box").html(o.responseJSON.data),$(".gif-loader").hide(),$("input[name=search]").empty();break;default:var s=o.statusText;o.hasOwnProperty("responseJSON")&&o.responseJSON.hasOwnProperty("message")&&(s=o.responseJSON.message),t.html(Translator.translate("error")+" "+s).addClass("alert")}}))}return{ResultDiv:t,SearchForm:e,initialize:function(){t.on("click",".pagination a",(function(t){t.preventDefault();var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action",$(this).attr("href")),o($(e))}))},submitForm:o}}(jQuery),Utility=function(){var t=$("#result-box"),e=$("#result-title"),o=$("#result-text");function s(s,r){a(),o.html(s),o.hasClass("alert")?r||(e.html(Translator.translate("utility.result.success")),o.removeClass("alert")):r&&(e.html(Translator.translate("utility.result.error")),o.addClass("alert")),t.modal()}function r(t){s(t,!1)}function i(t){s(t,!0)}function a(){$(":input").removeClass("error"),$(".alert.help-text").addClass("d-none")}function n(t){if(a(),t.hasOwnProperty("errors")){var e=0;for(var o in t.errors){var s=t.errors[o],r=/^[^.]+\.\d+$/.test(o)?o.replace(".",""):$('[name="'+o+'"]').attr("id"),i="object"===_typeof(s)?s[0]:s;if(r)$("#"+r).addClass("error"),$("#"+r+"-help-text").text(i).removeClass("d-none"),"budget_type"!==o&&"milerate_subtype"!==o&&"taxi_subtype"!==o&&"biketaxi_subtype"!==o||($("#"+o).addClass("error"),$("#"+o+"-help-text").text(i).removeClass("d-none")),$("#toggle-error-message").length&&0===e&&("milerate_subtype"===o||"taxi_subtype"===o||"biketaxi_subtype"===o?$("html, body").animate({scrollTop:$("#"+o+"-help-text").offset().top},1e3):$("html, body").animate({scrollTop:$("#"+r).offset().top},1e3));else{var n=$('[name="'+o+'[]"]').parents(".checkbox-group").attr("id");$("#"+n+"-help-text").text(i).removeClass("d-none")}e++}}}function l(t,e){a();var o="<h5>"+Translator.translate("utility.calling_system_administrator")+"</h5>";o+="<strong>"+Translator.translate("utility.error_url")+"</strong> "+e+"<br>",o+="<strong>"+Translator.translate("utility.error_status_code")+"</strong> "+t.status+"<br>",i(o+="<strong>"+Translator.translate("utility.error_status_text")+"</strong> "+t.statusText+"<br>")}function c(t,e){t.statusText=Translator.translate("utility.json_response_error"),l(t,e)}function u(e,o){switch(o.status){case 422:case 429:n(o.responseJSON);break;case 200:if(o.hasOwnProperty("responseJSON")){var s=o.responseJSON;!0===s.success?s.hasOwnProperty("message")?(t.on("hidden.bs.modal",(function(){s.redirectedUrl?location.href=s.redirectedUrl:e.trigger("reset")})),r(s.message)):s.redirectedUrl&&(location.href=s.redirectedUrl):i(s.message)}else c(o,e.attr("action"));break;default:o.hasOwnProperty("responseJSON")&&o.responseJSON.hasOwnProperty("message")?i(o.responseJSON.message):l(o,e.attr("action"))}}function d(t,e,o){"function"==typeof o?o.apply(this,[t,e]):u(t,e)}function f(t){return"GET"===t.attr("method")?t.serialize():new FormData(t.get(0))}return{submitForm:function(t,e){$.ajax({url:t.attr("action"),method:t.attr("method"),data:f(t),cache:!1,contentType:!1,processData:!1,success:function(o,s,r){d(t,r,e)},error:function(o){d(t,o,e)}})},displaySuccessMessageBox:r,displayErrorMessageBox:i,displayInvalidInputs:n,displayUnknownError:l,displayJsonResponseError:c,clearErrors:a,ResultBoxSelector:t,takeSubmitAction:u,runCallbackFunction:d,getFormData:f}}(jQuery),PasswordToggle=(jQuery,{initialize:function(){$("#password-field").click((function(){$(".fa-eye").length?($("#password-field").html(""),$("#password-field").html('<i class="fa fa-eye-slash"></i>'),$("#password").attr("type","text")):($("#password-field").html(""),$("#password-field").html('<i class="fa fa-eye"></i>'),$("#password").attr("type","password"))}))}}),CardBooking=(jQuery,{initialize:function(){var t=!1;$(window).scroll((function(e){$(window).scrollTop()>=1?window.innerWidth>=768&&(t||($("#hide-detail-booking").css("display","block"),$("#show-detail-booking").css("display","none")),$("#hide-detail-booking").click((function(){$("#show-detail-booking").css("display","block"),$("#show-detail-booking").addClass("toggle"),$("#btn-icon-down").css("display","block"),$("#hide-detail-booking").css("display","none"),t=!0})),$("#btn-icon-down").click((function(){$("#hide-detail-booking ").css("display","block"),$("#show-detail-booking").css("display","none")})),t||setTimeout((function(){$("#show-detail-booking").css("display","block"),$("#show-detail-booking ").addClass("toggle"),$("#btn-icon-down").css("display","block"),$("#hide-detail-booking").css("display","none"),t=!0}),24e4)):($("#hide-detail-booking").css("display","none"),$("#show-detail-booking ").removeClass("toggle"),$("#show-detail-booking").css("display","block"))}))}});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready((function(){Search.initialize(),Confirmation.initialize(),Form.initialize(),PasswordToggle.initialize(),CardBooking.initialize()}));
